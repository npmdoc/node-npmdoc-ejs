<div class="apidocDiv">
<style>
/*csslint
*/
.apidocDiv {
    background: #fff;
    font-family: Arial, Helvetica, sans-serif;
}
.apidocDiv a[href] {
    color: #33f;
    font-weight: bold;
    text-decoration: none;
}
.apidocDiv a[href]:hover {
    text-decoration: underline;
}
.apidocCodeCommentSpan {
    background: #bbf;
    color: #000;
    display: block;
}
.apidocCodeKeywordSpan {
    color: #d00;
    font-weight: bold;
}
.apidocCodePre {
    background: #eef;
    border: 1px solid;
    color: #777;
    padding: 5px;
    white-space: pre-wrap;
}
.apidocFooterDiv {
    margin-top: 20px;
    text-align: center;
}
.apidocModuleLi {
    margin-top: 10px;
}
.apidocSectionDiv {
    border-top: 1px solid;
    margin-top: 20px;
}
.apidocSignatureSpan {
    color: #777;
    font-weight: bold;
}
</style>
<h1>api documentation for
    <a

        href="https://github.com/mde/ejs"

    >ejs (v2.5.6)</a>
</h1>
<h4>Embedded JavaScript templates</h4>
<div class="apidocSectionDiv"><a
    href="#apidoc.tableOfContents"
    id="apidoc.tableOfContents"
><h1>table of contents</h1></a><ol>

    <li class="apidocModuleLi"><a href="#apidoc.module.ejs">module ejs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.__express">
            function <span class="apidocSignatureSpan">ejs.</span>__express
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.clearCache">
            function <span class="apidocSignatureSpan">ejs.</span>clearCache
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.compile">
            function <span class="apidocSignatureSpan">ejs.</span>compile
            <span class="apidocSignatureSpan">(template, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.escapeXML">
            function <span class="apidocSignatureSpan">ejs.</span>escapeXML
            <span class="apidocSignatureSpan">(markup)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.fileLoader">
            function <span class="apidocSignatureSpan">ejs.</span>fileLoader
            <span class="apidocSignatureSpan">(path, options)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.render">
            function <span class="apidocSignatureSpan">ejs.</span>render
            <span class="apidocSignatureSpan">(template, d, o)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.renderFile">
            function <span class="apidocSignatureSpan">ejs.</span>renderFile
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.resolveInclude">
            function <span class="apidocSignatureSpan">ejs.</span>resolveInclude
            <span class="apidocSignatureSpan">(name, filename, isDir)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan"></span>ejs</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">ejs.</span>cache</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">ejs.</span>utils</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">ejs.</span>VERSION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">ejs.</span>localsName</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">ejs.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.ejs.cache">module ejs.cache</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.cache.get">
            function <span class="apidocSignatureSpan">ejs.cache.</span>get
            <span class="apidocSignatureSpan">(key)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.cache.reset">
            function <span class="apidocSignatureSpan">ejs.cache.</span>reset
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.cache.set">
            function <span class="apidocSignatureSpan">ejs.cache.</span>set
            <span class="apidocSignatureSpan">(key, val)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">ejs.cache.</span>_data</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.ejs.ejs">module ejs.ejs</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.ejs.__express">
            function <span class="apidocSignatureSpan">ejs.ejs.</span>__express
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.ejs.clearCache">
            function <span class="apidocSignatureSpan">ejs.ejs.</span>clearCache
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.ejs.compile">
            function <span class="apidocSignatureSpan">ejs.ejs.</span>compile
            <span class="apidocSignatureSpan">(template, opts)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.ejs.escapeXML">
            function <span class="apidocSignatureSpan">ejs.ejs.</span>escapeXML
            <span class="apidocSignatureSpan">(markup)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.ejs.render">
            function <span class="apidocSignatureSpan">ejs.ejs.</span>render
            <span class="apidocSignatureSpan">(template, d, o)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.ejs.renderFile">
            function <span class="apidocSignatureSpan">ejs.ejs.</span>renderFile
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.ejs.resolveInclude">
            function <span class="apidocSignatureSpan">ejs.ejs.</span>resolveInclude
            <span class="apidocSignatureSpan">(name, filename, isDir)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">ejs.ejs.</span>cache</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">ejs.ejs.</span>VERSION</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">ejs.ejs.</span>localsName</span>

        </li>

        <li>

            <span class="apidocSignatureSpan">string <span class="apidocSignatureSpan">ejs.ejs.</span>name</span>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.ejs.escapeXML">module ejs.escapeXML</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.escapeXML.escapeXML">
            function <span class="apidocSignatureSpan">ejs.</span>escapeXML
            <span class="apidocSignatureSpan">(markup)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.escapeXML.toString">
            function <span class="apidocSignatureSpan">ejs.escapeXML.</span>toString
            <span class="apidocSignatureSpan">()</span>
            </a>

        </li>

    </ol></li>

    <li class="apidocModuleLi"><a href="#apidoc.module.ejs.utils">module ejs.utils</a><ol>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.utils.escapeRegExpChars">
            function <span class="apidocSignatureSpan">ejs.utils.</span>escapeRegExpChars
            <span class="apidocSignatureSpan">(string)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.utils.escapeXML">
            function <span class="apidocSignatureSpan">ejs.utils.</span>escapeXML
            <span class="apidocSignatureSpan">(markup)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.utils.shallowCopy">
            function <span class="apidocSignatureSpan">ejs.utils.</span>shallowCopy
            <span class="apidocSignatureSpan">(to, from)</span>
            </a>

        </li>

        <li>

            <a class="apidocElementLiA" href="#apidoc.element.ejs.utils.shallowCopyFromList">
            function <span class="apidocSignatureSpan">ejs.utils.</span>shallowCopyFromList
            <span class="apidocSignatureSpan">(to, from, list)</span>
            </a>

        </li>

        <li>

            <span class="apidocSignatureSpan">object <span class="apidocSignatureSpan">ejs.utils.</span>cache</span>

        </li>

    </ol></li>

</ol></div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ejs" id="apidoc.module.ejs">module ejs</a></h1>


    <h2>
        <a href="#apidoc.element.ejs.__express" id="apidoc.element.ejs.__express">
        function <span class="apidocSignatureSpan">ejs.</span>__express
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">__express = function () {
  var filename = arguments[0];
  var cb = arguments[arguments.length - 1];
  var opts = {filename: filename};
  var data;

  if (arguments.length &#x3e; 2) {
    data = arguments[1];

    // No options object -- if there are optiony names
    // in the data, copy them to options
    if (arguments.length === 3) {
      // Express 4
      if (data.settings &#x26;&#x26; data.settings[&#x27;view options&#x27;]) {
        utils.shallowCopyFromList(opts, data.settings[&#x27;view options&#x27;], _OPTS_EXPRESS);
      }
      // Express 3 and lower
      else {
        utils.shallowCopyFromList(opts, data, _OPTS_EXPRESS);
      }
    }
    else {
      // Use shallowCopy so we don&#x27;t pollute passed in opts obj with new vals
      utils.shallowCopy(opts, arguments[2]);
    }

    opts.filename = filename;
  }
  else {
    data = {};
  }

  return tryHandleCache(opts, data, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.clearCache" id="apidoc.element.ejs.clearCache">
        function <span class="apidocSignatureSpan">ejs.</span>clearCache
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearCache = function () {
  exports.cache.reset();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.compile" id="apidoc.element.ejs.compile">
        function <span class="apidocSignatureSpan">ejs.</span>compile
        <span class="apidocSignatureSpan">(template, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function compile(template, opts) {
  var templ;

  // v1 compat
  // &#x27;scope&#x27; is &#x27;context&#x27;
  // FIXME: Remove this in a future version
  if (opts &#x26;&#x26; opts.scope) {
    if (!scopeOptionWarned){
      console.warn(&#x27;`scope` option is deprecated and will be removed in EJS 3&#x27;);
      scopeOptionWarned = true;
    }
    if (!opts.context) {
      opts.context = opts.scope;
    }
    delete opts.scope;
  }
  templ = new Template(template, opts);
  return templ.compile();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

Try EJS online at: https://ionicabizau.github.io/ejs-playground/.

## Usage

```javascript
var template = ejs.<span class="apidocCodeKeywordSpan">compile</span>(str, options);
template(data);
// =&#x3e; Rendered HTML string

ejs.render(str, data, options);
// =&#x3e; Rendered HTML string

ejs.renderFile(filename, data, options, function(err, str){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.escapeXML" id="apidoc.element.ejs.escapeXML">
        function <span class="apidocSignatureSpan">ejs.</span>escapeXML
        <span class="apidocSignatureSpan">(markup)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">escapeXML = function (markup) {
  return markup == undefined
    ? &#x27;&#x27;
    : String(markup)
        .replace(_MATCH_HTML, encode_char);
};
var _ENCODE_HTML_RULES = {
      &#x22;&#x26;&#x22;: &#x22;&#x26;amp;&#x22;
    , &#x22;&#x3c;&#x22;: &#x22;&#x26;lt;&#x22;
    , &#x22;&#x3e;&#x22;: &#x22;&#x26;gt;&#x22;
    , &#x27;&#x22;&#x27;: &#x22;&#x26;#34;&#x22;
    , &#x22;&#x27;&#x22;: &#x22;&#x26;#39;&#x22;
    }
  , _MATCH_HTML = /[&#x26;&#x3c;&#x3e;&#x27;&#x22;]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.fileLoader" id="apidoc.element.ejs.fileLoader">
        function <span class="apidocSignatureSpan">ejs.</span>fileLoader
        <span class="apidocSignatureSpan">(path, options)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">fileLoader = function (path, options) {
  if (!options) {
    options = { encoding: null, flag: &#x27;r&#x27; };
  } else if (typeof options === &#x27;string&#x27;) {
    options = { encoding: options, flag: &#x27;r&#x27; };
  } else if (typeof options !== &#x27;object&#x27;) {
    throwOptionsError(options);
  }

  var encoding = options.encoding;
  assertEncoding(encoding);

  var flag = options.flag || &#x27;r&#x27;;
  var isUserFd = isFd(path); // file descriptor ownership
  var fd = isUserFd ? path : fs.openSync(path, flag, 0o666);

  var st = tryStatSync(fd, isUserFd);
  var size = st.isFile() ? st.size : 0;
  var pos = 0;
  var buffer; // single buffer with file data
  var buffers; // list for when size is unknown

  if (size === 0) {
    buffers = [];
  } else {
    buffer = tryCreateBuffer(size, fd, isUserFd);
  }

  var bytesRead;

  if (size !== 0) {
    do {
      bytesRead = tryReadSync(fd, isUserFd, buffer, pos, size - pos);
      pos += bytesRead;
    } while (bytesRead !== 0 &#x26;&#x26; pos &#x3c; size);
  } else {
    do {
      // the kernel lies about many files.
      // Go ahead and try to read some bytes.
      buffer = Buffer.allocUnsafe(8192);
      bytesRead = tryReadSync(fd, isUserFd, buffer, 0, 8192);
      if (bytesRead !== 0) {
        buffers.push(buffer.slice(0, bytesRead));
      }
      pos += bytesRead;
    } while (bytesRead !== 0);
  }

  if (!isUserFd)
    fs.closeSync(fd);

  if (size === 0) {
    // data was collected into the buffers list.
    buffer = Buffer.concat(buffers, pos);
  } else if (pos &#x3c; size) {
    buffer = buffer.slice(0, pos);
  }

  if (encoding) buffer = buffer.toString(encoding);
  return buffer;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
*
* @param {String} filePath ejs file path.
* @return {String} The contents of the specified file.
* @static
*/

function fileLoader(filePath){
 return exports.<span class="apidocCodeKeywordSpan">fileLoader</span>(filePath);
}

/**
* Get the template function.
*
* If `options.cache` is `true`, then the template is cached.
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.render" id="apidoc.element.ejs.render">
        function <span class="apidocSignatureSpan">ejs.</span>render
        <span class="apidocSignatureSpan">(template, d, o)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">render = function (template, d, o) {
  var data = d || {};
  var opts = o || {};

  // No options object -- if there are optiony names
  // in the data, copy them to options
  if (arguments.length == 2) {
    utils.shallowCopyFromList(opts, data, _OPTS);
  }

  return handleCache(opts, template)(data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Usage

```javascript
var template = ejs.compile(str, options);
template(data);
// =&#x3e; Rendered HTML string

ejs.<span class="apidocCodeKeywordSpan">render</span>(str, data, options);
// =&#x3e; Rendered HTML string

ejs.renderFile(filename, data, options, function(err, str){
    // str =&#x3e; Rendered HTML string
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.renderFile" id="apidoc.element.ejs.renderFile">
        function <span class="apidocSignatureSpan">ejs.</span>renderFile
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">renderFile = function () {
  var filename = arguments[0];
  var cb = arguments[arguments.length - 1];
  var opts = {filename: filename};
  var data;

  if (arguments.length &#x3e; 2) {
    data = arguments[1];

    // No options object -- if there are optiony names
    // in the data, copy them to options
    if (arguments.length === 3) {
      // Express 4
      if (data.settings &#x26;&#x26; data.settings[&#x27;view options&#x27;]) {
        utils.shallowCopyFromList(opts, data.settings[&#x27;view options&#x27;], _OPTS_EXPRESS);
      }
      // Express 3 and lower
      else {
        utils.shallowCopyFromList(opts, data, _OPTS_EXPRESS);
      }
    }
    else {
      // Use shallowCopy so we don&#x27;t pollute passed in opts obj with new vals
      utils.shallowCopy(opts, arguments[2]);
    }

    opts.filename = filename;
  }
  else {
    data = {};
  }

  return tryHandleCache(opts, data, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var template = ejs.compile(str, options);
template(data);
// =&#x3e; Rendered HTML string

ejs.render(str, data, options);
// =&#x3e; Rendered HTML string

ejs.<span class="apidocCodeKeywordSpan">renderFile</span>(filename, data, options, function(err, str){
    // str =&#x3e; Rendered HTML string
});
```

It is also possible to use `ejs.render(dataAndOptions);` where you pass
everything in a single object. In that case, you&#x27;ll end up with local variables
for all the passed options. However, be aware that your code could break if we
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.resolveInclude" id="apidoc.element.ejs.resolveInclude">
        function <span class="apidocSignatureSpan">ejs.</span>resolveInclude
        <span class="apidocSignatureSpan">(name, filename, isDir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveInclude = function (name, filename, isDir) {
  var dirname = path.dirname;
  var extname = path.extname;
  var resolve = path.resolve;
  var includePath = resolve(isDir ? filename : dirname(filename), name);
  var ext = extname(name);
  if (!ext) {
    includePath += &#x27;.ejs&#x27;;
  }
  return includePath;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param  {String}  path    specified path
 * @param  {Options} options compilation options
 * @return {String}
 */
function getIncludePath(path, options){
var includePath;
if (path.charAt(0) == &#x27;/&#x27;) {
  includePath = exports.<span class="apidocCodeKeywordSpan">resolveInclude</span>(path.replace(/^\/*/,&#x27;&#x27;), options.root
 || &#x27;/&#x27;, true);
}
else {
  if (!options.filename) {
    throw new Error(&#x27;`include` use relative path requires the \&#x27;filename\&#x27; option.&#x27;);
  }
  includePath = exports.resolveInclude(path, options.filename);
}
...</pre></li>
    </ul>














</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ejs.cache" id="apidoc.module.ejs.cache">module ejs.cache</a></h1>


    <h2>
        <a href="#apidoc.element.ejs.cache.get" id="apidoc.element.ejs.cache.get">
        function <span class="apidocSignatureSpan">ejs.cache.</span>get
        <span class="apidocSignatureSpan">(key)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">get = function (key) {
  return this._data[key];
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var filename = options.filename;
var hasTemplate = arguments.length &#x3e; 1;

if (options.cache) {
  if (!filename) {
    throw new Error(&#x27;cache option requires a filename&#x27;);
  }
  func = exports.cache.<span class="apidocCodeKeywordSpan">get</span>(filename);
  if (func) {
    return func;
  }
  if (!hasTemplate) {
    template = fileLoader(filename).toString().replace(_BOM, &#x27;&#x27;);
  }
}
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.cache.reset" id="apidoc.element.ejs.cache.reset">
        function <span class="apidocSignatureSpan">ejs.cache.</span>reset
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">reset = function () {
  this._data = {};
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...

/**
 * Clear intermediate JavaScript cache. Calls {@link Cache#reset}.
 * @public
 */

exports.clearCache = function () {
exports.cache.<span class="apidocCodeKeywordSpan">reset</span>();
};

function Template(text, opts) {
opts = opts || {};
var options = {};
this.templateText = text;
this.mode = null;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.cache.set" id="apidoc.element.ejs.cache.set">
        function <span class="apidocSignatureSpan">ejs.cache.</span>set
        <span class="apidocSignatureSpan">(key, val)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">set = function (key, val) {
  this._data[key] = val;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
     throw new Error(&#x27;Internal EJS error: no file name or template &#x27;
                   + &#x27;provided&#x27;);
   }
   template = fileLoader(filename).toString().replace(_BOM, &#x27;&#x27;);
 }
 func = exports.compile(template, options);
 if (options.cache) {
   exports.cache.<span class="apidocCodeKeywordSpan">set</span>(filename, func);
 }
 return func;
}

/**
* Try calling handleCache with the given options and data and call the
* callback with the result. If an error occurs, call the callback with
...</pre></li>
    </ul>




</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ejs.ejs" id="apidoc.module.ejs.ejs">module ejs.ejs</a></h1>


    <h2>
        <a href="#apidoc.element.ejs.ejs.__express" id="apidoc.element.ejs.ejs.__express">
        function <span class="apidocSignatureSpan">ejs.ejs.</span>__express
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">__express = function () {
  var filename = arguments[0];
  var cb = arguments[arguments.length - 1];
  var opts = {filename: filename};
  var data;

  if (arguments.length &#x3e; 2) {
    data = arguments[1];

    // No options object -- if there are optiony names
    // in the data, copy them to options
    if (arguments.length === 3) {
      // Express 4
      if (data.settings &#x26;&#x26; data.settings[&#x27;view options&#x27;]) {
        utils.shallowCopyFromList(opts, data.settings[&#x27;view options&#x27;], _OPTS_EXPRESS);
      }
      // Express 3 and lower
      else {
        utils.shallowCopyFromList(opts, data, _OPTS_EXPRESS);
      }
    }
    else {
      // Use shallowCopy so we don&#x27;t pollute passed in opts obj with new vals
      utils.shallowCopy(opts, arguments[2]);
    }

    opts.filename = filename;
  }
  else {
    data = {};
  }

  return tryHandleCache(opts, data, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.ejs.clearCache" id="apidoc.element.ejs.ejs.clearCache">
        function <span class="apidocSignatureSpan">ejs.ejs.</span>clearCache
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">clearCache = function () {
  exports.cache.reset();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.ejs.compile" id="apidoc.element.ejs.ejs.compile">
        function <span class="apidocSignatureSpan">ejs.ejs.</span>compile
        <span class="apidocSignatureSpan">(template, opts)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">function compile(template, opts) {
  var templ;

  // v1 compat
  // &#x27;scope&#x27; is &#x27;context&#x27;
  // FIXME: Remove this in a future version
  if (opts &#x26;&#x26; opts.scope) {
    if (!scopeOptionWarned){
      console.warn(&#x27;`scope` option is deprecated and will be removed in EJS 3&#x27;);
      scopeOptionWarned = true;
    }
    if (!opts.context) {
      opts.context = opts.scope;
    }
    delete opts.scope;
  }
  templ = new Template(template, opts);
  return templ.compile();
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
```

Try EJS online at: https://ionicabizau.github.io/ejs-playground/.

## Usage

```javascript
var template = ejs.<span class="apidocCodeKeywordSpan">compile</span>(str, options);
template(data);
// =&#x3e; Rendered HTML string

ejs.render(str, data, options);
// =&#x3e; Rendered HTML string

ejs.renderFile(filename, data, options, function(err, str){
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.ejs.escapeXML" id="apidoc.element.ejs.ejs.escapeXML">
        function <span class="apidocSignatureSpan">ejs.ejs.</span>escapeXML
        <span class="apidocSignatureSpan">(markup)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">escapeXML = function (markup) {
  return markup == undefined
    ? &#x27;&#x27;
    : String(markup)
        .replace(_MATCH_HTML, encode_char);
};
var _ENCODE_HTML_RULES = {
      &#x22;&#x26;&#x22;: &#x22;&#x26;amp;&#x22;
    , &#x22;&#x3c;&#x22;: &#x22;&#x26;lt;&#x22;
    , &#x22;&#x3e;&#x22;: &#x22;&#x26;gt;&#x22;
    , &#x27;&#x22;&#x27;: &#x22;&#x26;#34;&#x22;
    , &#x22;&#x27;&#x22;: &#x22;&#x26;#39;&#x22;
    }
  , _MATCH_HTML = /[&#x26;&#x3c;&#x3e;&#x27;&#x22;]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.ejs.render" id="apidoc.element.ejs.ejs.render">
        function <span class="apidocSignatureSpan">ejs.ejs.</span>render
        <span class="apidocSignatureSpan">(template, d, o)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">render = function (template, d, o) {
  var data = d || {};
  var opts = o || {};

  // No options object -- if there are optiony names
  // in the data, copy them to options
  if (arguments.length == 2) {
    utils.shallowCopyFromList(opts, data, _OPTS);
  }

  return handleCache(opts, template)(data);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
## Usage

```javascript
var template = ejs.compile(str, options);
template(data);
// =&#x3e; Rendered HTML string

ejs.<span class="apidocCodeKeywordSpan">render</span>(str, data, options);
// =&#x3e; Rendered HTML string

ejs.renderFile(filename, data, options, function(err, str){
    // str =&#x3e; Rendered HTML string
});
```
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.ejs.renderFile" id="apidoc.element.ejs.ejs.renderFile">
        function <span class="apidocSignatureSpan">ejs.ejs.</span>renderFile
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">renderFile = function () {
  var filename = arguments[0];
  var cb = arguments[arguments.length - 1];
  var opts = {filename: filename};
  var data;

  if (arguments.length &#x3e; 2) {
    data = arguments[1];

    // No options object -- if there are optiony names
    // in the data, copy them to options
    if (arguments.length === 3) {
      // Express 4
      if (data.settings &#x26;&#x26; data.settings[&#x27;view options&#x27;]) {
        utils.shallowCopyFromList(opts, data.settings[&#x27;view options&#x27;], _OPTS_EXPRESS);
      }
      // Express 3 and lower
      else {
        utils.shallowCopyFromList(opts, data, _OPTS_EXPRESS);
      }
    }
    else {
      // Use shallowCopy so we don&#x27;t pollute passed in opts obj with new vals
      utils.shallowCopy(opts, arguments[2]);
    }

    opts.filename = filename;
  }
  else {
    data = {};
  }

  return tryHandleCache(opts, data, cb);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
var template = ejs.compile(str, options);
template(data);
// =&#x3e; Rendered HTML string

ejs.render(str, data, options);
// =&#x3e; Rendered HTML string

ejs.<span class="apidocCodeKeywordSpan">renderFile</span>(filename, data, options, function(err, str){
    // str =&#x3e; Rendered HTML string
});
```

It is also possible to use `ejs.render(dataAndOptions);` where you pass
everything in a single object. In that case, you&#x27;ll end up with local variables
for all the passed options. However, be aware that your code could break if we
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.ejs.resolveInclude" id="apidoc.element.ejs.ejs.resolveInclude">
        function <span class="apidocSignatureSpan">ejs.ejs.</span>resolveInclude
        <span class="apidocSignatureSpan">(name, filename, isDir)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">resolveInclude = function (name, filename, isDir) {
  var dirname = path.dirname;
  var extname = path.extname;
  var resolve = path.resolve;
  var includePath = resolve(isDir ? filename : dirname(filename), name);
  var ext = extname(name);
  if (!ext) {
    includePath += &#x27;.ejs&#x27;;
  }
  return includePath;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
 * @param  {String}  path    specified path
 * @param  {Options} options compilation options
 * @return {String}
 */
function getIncludePath(path, options){
var includePath;
if (path.charAt(0) == &#x27;/&#x27;) {
  includePath = exports.<span class="apidocCodeKeywordSpan">resolveInclude</span>(path.replace(/^\/*/,&#x27;&#x27;), options.root
 || &#x27;/&#x27;, true);
}
else {
  if (!options.filename) {
    throw new Error(&#x27;`include` use relative path requires the \&#x27;filename\&#x27; option.&#x27;);
  }
  includePath = exports.resolveInclude(path, options.filename);
}
...</pre></li>
    </ul>










</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ejs.escapeXML" id="apidoc.module.ejs.escapeXML">module ejs.escapeXML</a></h1>


    <h2>
        <a href="#apidoc.element.ejs.escapeXML.escapeXML" id="apidoc.element.ejs.escapeXML.escapeXML">
        function <span class="apidocSignatureSpan">ejs.</span>escapeXML
        <span class="apidocSignatureSpan">(markup)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">escapeXML = function (markup) {
  return markup == undefined
    ? &#x27;&#x27;
    : String(markup)
        .replace(_MATCH_HTML, encode_char);
};
var _ENCODE_HTML_RULES = {
      &#x22;&#x26;&#x22;: &#x22;&#x26;amp;&#x22;
    , &#x22;&#x3c;&#x22;: &#x22;&#x26;lt;&#x22;
    , &#x22;&#x3e;&#x22;: &#x22;&#x26;gt;&#x22;
    , &#x27;&#x22;&#x27;: &#x22;&#x26;#34;&#x22;
    , &#x22;&#x27;&#x22;: &#x22;&#x26;#39;&#x22;
    }
  , _MATCH_HTML = /[&#x26;&#x3c;&#x3e;&#x27;&#x22;]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.escapeXML.toString" id="apidoc.element.ejs.escapeXML.toString">
        function <span class="apidocSignatureSpan">ejs.escapeXML.</span>toString
        <span class="apidocSignatureSpan">()</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">toString = function () {
  return Function.prototype.toString.call(this) + &#x27;;\n&#x27; + escapeFuncStr;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
  - `_with`           Whether or not to use `with() {}` constructs. If `false` then the locals will be stored in the `locals` object
. Set to `false` in strict mode.
  - `localsName`      Name to use for the object storing local variables when not using `with` Defaults to `locals`
  - `rmWhitespace`    Remove all safe-to-remove whitespace, including leading
    and trailing whitespace. It also enables a safer version of `-%&#x3e;` line
    slurping for all scriptlet tags (it does not strip new lines of tags in
    the middle of a line).
  - `escape`          The escaping function used with `&#x3c;%=` construct. It is
    used in rendering and is `.<span class="apidocCodeKeywordSpan">toString</span>()`ed in the generation of client functions. (
By default escapes XML).

This project uses [JSDoc](http://usejsdoc.org/). For the full public API
documentation, clone the repository and run `npm run doc`. This will run JSDoc
with the proper options and output the documentation to `out/`. If you want
the both the public &#x26; private API docs, run `npm run devdoc` instead.

## Tags
...</pre></li>
    </ul>


</div>

<div class="apidocSectionDiv">
<h1><a href="#apidoc.module.ejs.utils" id="apidoc.module.ejs.utils">module ejs.utils</a></h1>


    <h2>
        <a href="#apidoc.element.ejs.utils.escapeRegExpChars" id="apidoc.element.ejs.utils.escapeRegExpChars">
        function <span class="apidocSignatureSpan">ejs.utils.</span>escapeRegExpChars
        <span class="apidocSignatureSpan">(string)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">escapeRegExpChars = function (string) {
  // istanbul ignore if
  if (!string) {
    return &#x27;&#x27;;
  }
  return String(string).replace(regExpChars, &#x27;\\$&#x26;&#x27;);
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
COMMENT: &#x27;comment&#x27;,
LITERAL: &#x27;literal&#x27;
};

Template.prototype = {
createRegex: function () {
  var str = _REGEX_STRING;
  var delim = utils.<span class="apidocCodeKeywordSpan">escapeRegExpChars</span>(this.opts.delimiter);
  str = str.replace(/%/g, delim);
  return new RegExp(str);
},

compile: function () {
  var src;
  var fn;
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.utils.escapeXML" id="apidoc.element.ejs.utils.escapeXML">
        function <span class="apidocSignatureSpan">ejs.utils.</span>escapeXML
        <span class="apidocSignatureSpan">(markup)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">escapeXML = function (markup) {
  return markup == undefined
    ? &#x27;&#x27;
    : String(markup)
        .replace(_MATCH_HTML, encode_char);
};
var _ENCODE_HTML_RULES = {
      &#x22;&#x26;&#x22;: &#x22;&#x26;amp;&#x22;
    , &#x22;&#x3c;&#x22;: &#x22;&#x26;lt;&#x22;
    , &#x22;&#x3e;&#x22;: &#x22;&#x26;gt;&#x22;
    , &#x27;&#x22;&#x27;: &#x22;&#x26;#34;&#x22;
    , &#x22;&#x27;&#x22;: &#x22;&#x26;#39;&#x22;
    }
  , _MATCH_HTML = /[&#x26;&#x3c;&#x3e;&#x27;&#x22;]/g;
function encode_char(c) {
  return _ENCODE_HTML_RULES[c] || c;
};
</pre></li>
    <li>example usage<pre class="apidocCodePre">n/a</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.utils.shallowCopy" id="apidoc.element.ejs.utils.shallowCopy">
        function <span class="apidocSignatureSpan">ejs.utils.</span>shallowCopy
        <span class="apidocSignatureSpan">(to, from)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shallowCopy = function (to, from) {
  from = from || {};
  for (var p in from) {
    to[p] = from[p];
  }
  return to;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
* @param {Options} options compilation options
* @return {(TemplateFunction|ClientFunction)}
* Depending on the value of `options.client`, either type might be returned
* @static
*/

function includeFile(path, options) {
 var opts = utils.<span class="apidocCodeKeywordSpan">shallowCopy</span>({}, options);
 opts.filename = getIncludePath(path, opts);
 return handleCache(opts);
}

/**
* Get the JavaScript source of an included file.
*
...</pre></li>
    </ul>



    <h2>
        <a href="#apidoc.element.ejs.utils.shallowCopyFromList" id="apidoc.element.ejs.utils.shallowCopyFromList">
        function <span class="apidocSignatureSpan">ejs.utils.</span>shallowCopyFromList
        <span class="apidocSignatureSpan">(to, from, list)</span>
        </a>
    </h2>
    <ul>
    <li>description and source-code<pre class="apidocCodePre">shallowCopyFromList = function (to, from, list) {
  for (var i = 0; i &#x3c; list.length; i++) {
    var p = list[i];
    if (typeof from[p] != &#x27;undefined&#x27;) {
      to[p] = from[p];
    }
  }
  return to;
}</pre></li>
    <li>example usage<pre class="apidocCodePre">...
exports.render = function (template, d, o) {
 var data = d || {};
 var opts = o || {};

 // No options object -- if there are optiony names
 // in the data, copy them to options
 if (arguments.length == 2) {
   utils.<span class="apidocCodeKeywordSpan">shallowCopyFromList</span>(opts, data, _OPTS);
 }

 return handleCache(opts, template)(data);
};

/**
* Render an EJS file at the given `path` and callback `cb(err, str)`.
...</pre></li>
    </ul>




</div>

<div class="apidocFooterDiv">
    [ this document was created with
    <a href="https://github.com/kaizhu256/node-utility2" target="_blank">utility2</a>
    ]
</div>
</div>
